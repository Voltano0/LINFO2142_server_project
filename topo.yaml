name: rpi1_network

mgmt:
  network: none  # Disabling management network

nodes:
  r0:
    kind: vr-xxx  # Specify your router type (or image)
    image: frrouting/frr:latest  # FRRouting container
    mgmt: false  # Disabling management interface
    interfaces:
      - ipv6_address: "fc00:2142:ff07::2/64"  # IPv6 for RPI1 router (change XX to your group)
      - ipv6_address: "fc00:2142:0007::52/127"  # Link to the upstream router (change XX)

  dns1:
    kind: container  # A basic container for DNS service
    image: dns-container:arm64  # Placeholder, replace with your actual image for DNS
    mgmt: false  # Disabling management interface
    interfaces:
      - ipv6_address: "fc00:2142:ff07::53/64"  # IPv6 address for DNS (adjust XX)

links:
  - endpoints: ["r0:eth0", "dns1:eth0"]  # Link between router and DNS container
  - endpoints: ["r0:eth1", "rpi1:eth0"]  # Link from router to RPI1 bridge interface

# Bridges:
bridges:
  br0:
    interfaces:
      - r0:eth1  # Connects RPI1's router eth1 to the bridge
      - rpi1:eth0  # Connects the physical interface of RPI1 to the bridge

